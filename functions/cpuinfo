# Display CPU hardware information and current load statistics
# Usage: cpuinfo

# Check dependencies
(( ${+functions[get_cpu_model]} )) || { printe "Missing get_cpu_model()"; return 1; }
(( ${+functions[get_load_average]} )) || { printe "Missing get_load_average()"; return 1; }

# Retrieve data
local model=$(get_cpu_model)
local arch=$(get_cpu_arch)
local cores=$(get_cpu_count)
local load=$(get_load_average)

printt "CPU Info" $b $x
printkv "Model" "$model"
printkv "Architecture" "$arch"
printkv "Cores" "$cores"
printkv "Load Avg (1m)" "$load" $y