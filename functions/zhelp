# Display helpful commands and documentation for zsh-config
# Use 'zhelp --help' for more information.

local -A _fn=(
    [info]="Display helpful commands and documentation for zsh-config"
    [desc]="Shows an overview of useful zsh-config commands, plugin management
            tools, and documentation resources."
    [version]="0.5.0"
    [created]="2025"
    [modified]="2026-02-02"
    [license]="MIT"
    [author]="Andrzej Barabasz"
)

local -A opts=() args=()
_fn_init "$@" || return $REPLY

local -A commands

_zhelp_header() {
    printc "\n$1\n" $y
}

_zhelp_print() {
    for cmd in ${(k)commands}; do
        printf "  ${g}%-15s${x}  %s\n" "$cmd" "${commands[$cmd]}"
    done
}

# Title
printt "Zsh-Config Help" $y $g

# System Information
(( ${+functions[sysinfo]} )) && sysinfo
(( ${+functions[logininfo]} )) && logininfo

# Useful Commands
_zhelp_header "Useful Commands"
commands=(
    "zdoc"       "View zsh-config documentation"
    "zconfig"    "Edit zsh config files"
    "zinfo"      "Display help for zsh-config functions"
    "zfiles"     "Show loaded shell files with status and load time"
    "zman"       "List all zsh-config functions"
    "zspeed"     "Measure zsh startup performance"
    "zupdate"    "Update zsh-config and all plugins"
)
_zhelp_print

# Plugin Management
_zhelp_header "Plugin Management"
commands=(
    "list_plugins"    "List installed plugins"
    "install_plugin"  "Install a plugin from GitHub"
    "update_plugins"  "Update all plugins"
)
_zhelp_print

# Documentation
_zhelp_header "Documentation"
print "To view available documentation files, use ${g}zdoc${x}.\n"
